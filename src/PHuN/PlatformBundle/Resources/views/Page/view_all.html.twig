{# src/PHuN/PlatformBundle/Resources/view/Page/view_all.html.twig #}

{% extends "PHuNPlatformBundle::layout.html.twig" %}

{% block title %}
  Lecture d'une annonce - {{ parent() }}
{% endblock %}


{% block body %}

  <h2>Consulter la collection</h2>

  <div class="well">
    Affichage
  </div>

    {#<div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Choisir une page</h3>
      </div>
      <div class="panel-body">
        <a href="" id="random" class="btn btn-default" >
        <i class="glyphicon glyphicon-random"></i>
        Propose-moi une page au hasard
        </a>
      </div>
    </div>#}
{#
  <div class="panel panel-default">
    <div class="panel-heading">
        <h3 class="panel-title">All pages</h3>
    </div>
    <div class="panel-body">
        <ul class="nav nav-pills nav-stacked">
        {% for page in listPages %}
          <li>
            <a href="{{ path('phun_platform_view', {'id': page.id}) }}"><img id="zoom_04" src="{{ asset(page.urlImg) }}" height="65px" data-zoom-image="{{ page.urlImg }}"/>  <input hidden type="checkbox" name = "chk" class="transcription-selection-id" value="{{ page.id }}" id="{{ page.id }}"/>
              {{page.alt}}
            </a>
          </li>
        {% endfor %}
        </ul>
      </div>
    </div>
#}




  {{ form_start(form, {'attr': {'class': 'form-horizontal'}}) }}

    {# Les erreurs générales du formulaire #}
    {{ form_errors(form) }}


    {#<div class="form-group">
      {{ form_label(form.catalogue, "Catalogue", {'label_attr': {'class': 'col-sm-5 control-label'}})}}
      <div class="col-sm-7">
          {{ form_widget(form.catalogue, {'attr': {'class':'form-control'}}) }}
      </div>  
    </div> 

    <div class="form-group">
      {{ form_label(form.dossier, "Ajouter une image logo de votre collection", {'label_attr': {'class': 'col-sm-5 control-label'}})}}
      <div class="col-sm-7">
          {{ form_widget(form.dossier) }}
      </div>  
    </div>

    <div class="form-group">
      {{ form_label(form.name, "Ajouter une image logo de votre collection", {'label_attr': {'class': 'col-sm-5 control-label'}})}}
      <div class="col-sm-7">
          {{ form_widget(form.name) }}
      </div>  
    </div>#}

   {# {{ form_widget(form.save, {'attr': {'class': 'btn btn-primary'}}) }}#}
    {{ form_rest(form) }}

  {{ form_end(form) }} 


{% endblock %}




{% block javascripts %}
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.4/jquery.min.js"></script>
<script type = "text/javascript" src = "http://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.6.1.min.js"></script>
  <script type="text/javascript" src="https://cdn.rawgit.com/igorlino/elevatezoom-plus/1.1.6/src/jquery.ez-plus.js"></script>
  <script type="text/javascript">
    $("#zoom_04a").ezPlus({
        zoomWindowWidth: 400,
        zoomWindowHeight: 300,
        scrollZoom: true,
        easing: false,
        zoomWindowPosition: 13,
      });
  </script>

  <script type="text/javascript">
        var listPages = [];
        $("input:checkbox[name=chk]").each(function () {
            
            listPages.push($(this).attr('id'));
        });
          $("#random").live("click", function () {
              //var listPages = document.getElementsByTagName("p").id;
              //var myarray= new Array("item1","item2","item3");
              var random = listPages[Math.floor(Math.random() * listPages.length)];
              //alert(random);
              var url = '{{ path('phun_platform_view', {'id': 'page_id'}) }}';
              url = url.replace("page_id", random);
              document.getElementById("random").href = url;
        });
</script>
 {% endblock %} 